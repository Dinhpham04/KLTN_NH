{
    "info": {
        "_postman_id": "category-crud-api-collection",
        "name": "Category CRUD & Excel API",
        "description": "Complete Postman collection for testing Category CRUD operations & Excel Import/Export\n\n**Features:**\n- ‚úÖ Full CRUD operations (8 requests)\n- ‚úÖ Excel Export/Import operations (5 requests)\n- ‚úÖ Pre-configured requests with validation\n- ‚úÖ Example responses\n- ‚úÖ Environment variables support\n- ‚úÖ Automated test scripts (30+ tests)\n\n**API Groups:**\n1. **Category CRUD** (8 APIs)\n   - Get all categories\n   - Create new category\n   - Get category by ID\n   - Update category\n   - Soft delete\n   - Hard delete (permanent)\n   - Validation error test\n   - Not found error test\n\n2. **Excel Operations** (5 APIs)\n   - Export categories to Excel\n   - Download Excel template\n   - Import (Strict mode)\n   - Import (Update mode)\n   - Import (Skip mode)\n\n**How to use:**\n1. Import this file into Postman\n2. Import environment file (Category_API.postman_environment.json)\n3. Run requests in sequence or use Collection Runner\n4. Check test results in Test Results tab\n5. For Excel APIs: Prepare Excel files for upload\n\n**Excel Import Modes:**\n- **Strict**: B√°o l·ªói n·∫øu tr√πng t√™n (default)\n- **Update**: T·ª± ƒë·ªông update n·∫øu tr√πng\n- **Skip**: B·ªè qua n·∫øu tr√πng\n\n**Created by:** Senior Backend Developer\n**Date:** October 18, 2025\n**Version:** 2.0 (with Excel support)",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
        "_exporter_id": "category-api-tester"
    },
    "item": [
        {
            "name": "1. Get All Categories",
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "exec": [
                            "// Test status code",
                            "pm.test(\"Status code is 200\", function () {",
                            "    pm.response.to.have.status(200);",
                            "});",
                            "",
                            "// Test response structure",
                            "pm.test(\"Response has correct structure\", function () {",
                            "    var jsonData = pm.response.json();",
                            "    pm.expect(jsonData).to.have.property('status');",
                            "    pm.expect(jsonData).to.have.property('data');",
                            "    pm.expect(jsonData.data).to.be.an('array');",
                            "});",
                            "",
                            "// Test response time",
                            "pm.test(\"Response time is less than 500ms\", function () {",
                            "    pm.expect(pm.response.responseTime).to.be.below(500);",
                            "});",
                            "",
                            "// Save first category ID for later use",
                            "var jsonData = pm.response.json();",
                            "if (jsonData.data && jsonData.data.length > 0) {",
                            "    pm.environment.set(\"first_category_id\", jsonData.data[0].id);",
                            "    console.log(\"Saved category ID: \" + jsonData.data[0].id);",
                            "}"
                        ],
                        "type": "text/javascript"
                    }
                }
            ],
            "request": {
                "method": "GET",
                "header": [],
                "url": {
                    "raw": "{{base_url}}/api/menu/cus/menus/categories",
                    "host": [
                        "{{base_url}}"
                    ],
                    "path": [
                        "api",
                        "menu",
                        "cus",
                        "menus",
                        "categories"
                    ]
                },
                "description": "L·∫•y danh s√°ch t·∫•t c·∫£ c√°c categories ƒëang available.\n\n**Endpoint:** GET `/api/menu/cus/menus/categories`\n\n**Response:**\n- Status 200: Tr·∫£ v·ªÅ danh s√°ch categories\n- Status 500: Internal server error"
            },
            "response": [
                {
                    "name": "Success Response",
                    "originalRequest": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/menu/cus/menus/categories",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "menu",
                                "cus",
                                "menus",
                                "categories"
                            ]
                        }
                    },
                    "status": "OK",
                    "code": 200,
                    "_postman_previewlanguage": "json",
                    "header": [
                        {
                            "key": "Content-Type",
                            "value": "application/json"
                        }
                    ],
                    "cookie": [],
                    "body": "{\n    \"status\": 200,\n    \"data\": [\n        {\n            \"id\": 1,\n            \"name\": \"M√≥n ch√≠nh\",\n            \"description\": \"C√°c m√≥n ƒÉn ch√≠nh\",\n            \"is_available\": true\n        },\n        {\n            \"id\": 2,\n            \"name\": \"ƒê·ªì u·ªëng\",\n            \"description\": \"N∆∞·ªõc gi·∫£i kh√°t v√† ƒë·ªì u·ªëng\",\n            \"is_available\": true\n        }\n    ]\n}"
                }
            ]
        },
        {
            "name": "2. Create New Category",
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "exec": [
                            "// Test status code",
                            "pm.test(\"Status code is 201\", function () {",
                            "    pm.response.to.have.status(201);",
                            "});",
                            "",
                            "// Test response structure",
                            "pm.test(\"Response has correct structure\", function () {",
                            "    var jsonData = pm.response.json();",
                            "    pm.expect(jsonData).to.have.property('status');",
                            "    pm.expect(jsonData).to.have.property('message');",
                            "    pm.expect(jsonData).to.have.property('data');",
                            "    pm.expect(jsonData.data).to.have.property('id');",
                            "});",
                            "",
                            "// Test created data",
                            "pm.test(\"Category was created with correct data\", function () {",
                            "    var jsonData = pm.response.json();",
                            "    pm.expect(jsonData.data.name).to.eql(\"M√≥n Vi·ªát\");",
                            "});",
                            "",
                            "// Save created category ID",
                            "var jsonData = pm.response.json();",
                            "if (jsonData.data && jsonData.data.id) {",
                            "    pm.environment.set(\"created_category_id\", jsonData.data.id);",
                            "    console.log(\"Created category ID: \" + jsonData.data.id);",
                            "}"
                        ],
                        "type": "text/javascript"
                    }
                }
            ],
            "request": {
                "method": "POST",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "body": {
                    "mode": "raw",
                    "raw": "{\n    \"name\": \"M√≥n Vi·ªát\",\n    \"description\": \"C√°c m√≥n ƒÉn Vi·ªát Nam truy·ªÅn th·ªëng\",\n    \"is_available\": true\n}"
                },
                "url": {
                    "raw": "{{base_url}}/api/menu/admin/categories",
                    "host": [
                        "{{base_url}}"
                    ],
                    "path": [
                        "api",
                        "menu",
                        "admin",
                        "categories"
                    ]
                },
                "description": "T·∫°o m·ªôt category m·ªõi.\n\n**Endpoint:** POST `/api/menu/admin/categories`\n\n**Body:**\n- `name` (required): T√™n danh m·ª•c\n- `description` (optional): M√¥ t·∫£\n- `is_available` (optional): Tr·∫°ng th√°i (default: true)\n\n**Response:**\n- Status 201: Category created successfully\n- Status 400: Validation error\n- Status 500: Internal server error"
            },
            "response": [
                {
                    "name": "Success Response",
                    "originalRequest": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"M√≥n Vi·ªát\",\n    \"description\": \"C√°c m√≥n ƒÉn Vi·ªát Nam truy·ªÅn th·ªëng\",\n    \"is_available\": true\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/menu/admin/categories",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "menu",
                                "admin",
                                "categories"
                            ]
                        }
                    },
                    "status": "Created",
                    "code": 201,
                    "_postman_previewlanguage": "json",
                    "header": [
                        {
                            "key": "Content-Type",
                            "value": "application/json"
                        }
                    ],
                    "cookie": [],
                    "body": "{\n    \"status\": 201,\n    \"message\": \"Category created successfully\",\n    \"data\": {\n        \"id\": 5,\n        \"name\": \"M√≥n Vi·ªát\",\n        \"description\": \"C√°c m√≥n ƒÉn Vi·ªát Nam truy·ªÅn th·ªëng\",\n        \"is_available\": true\n    }\n}"
                },
                {
                    "name": "Validation Error",
                    "originalRequest": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"description\": \"Missing name field\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/menu/admin/categories",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "menu",
                                "admin",
                                "categories"
                            ]
                        }
                    },
                    "status": "Bad Request",
                    "code": 400,
                    "_postman_previewlanguage": "json",
                    "header": [
                        {
                            "key": "Content-Type",
                            "value": "application/json"
                        }
                    ],
                    "cookie": [],
                    "body": "{\n    \"status\": 400,\n    \"message\": \"Category name is required\"\n}"
                }
            ]
        },
        {
            "name": "3. Get Category By ID",
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "exec": [
                            "// Test status code",
                            "pm.test(\"Status code is 200\", function () {",
                            "    pm.response.to.have.status(200);",
                            "});",
                            "",
                            "// Test response structure",
                            "pm.test(\"Response has correct structure\", function () {",
                            "    var jsonData = pm.response.json();",
                            "    pm.expect(jsonData).to.have.property('status');",
                            "    pm.expect(jsonData).to.have.property('data');",
                            "    pm.expect(jsonData.data).to.have.property('id');",
                            "    pm.expect(jsonData.data).to.have.property('name');",
                            "});",
                            "",
                            "// Test data type",
                            "pm.test(\"Category data has correct types\", function () {",
                            "    var jsonData = pm.response.json();",
                            "    pm.expect(jsonData.data.id).to.be.a('number');",
                            "    pm.expect(jsonData.data.name).to.be.a('string');",
                            "    pm.expect(jsonData.data.is_available).to.be.a('number');",
                            "});"
                        ],
                        "type": "text/javascript"
                    }
                }
            ],
            "request": {
                "method": "GET",
                "header": [],
                "url": {
                    "raw": "{{base_url}}/api/menu/admin/categories/{{created_category_id}}",
                    "host": [
                        "{{base_url}}"
                    ],
                    "path": [
                        "api",
                        "menu",
                        "admin",
                        "categories",
                        "{{created_category_id}}"
                    ]
                },
                "description": "L·∫•y th√¥ng tin chi ti·∫øt c·ªßa m·ªôt category theo ID.\n\n**Endpoint:** GET `/api/menu/admin/categories/:id`\n\n**Response:**\n- Status 200: Tr·∫£ v·ªÅ th√¥ng tin category\n- Status 404: Category not found\n- Status 500: Internal server error\n\n**Note:** S·ª≠ d·ª•ng environment variable `created_category_id` t·ª´ request tr∆∞·ªõc"
            },
            "response": [
                {
                    "name": "Success Response",
                    "originalRequest": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/menu/admin/categories/1",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "menu",
                                "admin",
                                "categories",
                                "1"
                            ]
                        }
                    },
                    "status": "OK",
                    "code": 200,
                    "_postman_previewlanguage": "json",
                    "header": [
                        {
                            "key": "Content-Type",
                            "value": "application/json"
                        }
                    ],
                    "cookie": [],
                    "body": "{\n    \"status\": 200,\n    \"data\": {\n        \"id\": 1,\n        \"name\": \"M√≥n ch√≠nh\",\n        \"description\": \"C√°c m√≥n ƒÉn ch√≠nh\",\n        \"is_available\": true\n    }\n}"
                },
                {
                    "name": "Not Found Error",
                    "originalRequest": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/menu/admin/categories/99999",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "menu",
                                "admin",
                                "categories",
                                "99999"
                            ]
                        }
                    },
                    "status": "Not Found",
                    "code": 404,
                    "_postman_previewlanguage": "json",
                    "header": [
                        {
                            "key": "Content-Type",
                            "value": "application/json"
                        }
                    ],
                    "cookie": [],
                    "body": "{\n    \"status\": 404,\n    \"message\": \"Category not found\"\n}"
                }
            ]
        },
        {
            "name": "4. Update Category",
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "exec": [
                            "// Test status code",
                            "pm.test(\"Status code is 200\", function () {",
                            "    pm.response.to.have.status(200);",
                            "});",
                            "",
                            "// Test response structure",
                            "pm.test(\"Response has correct structure\", function () {",
                            "    var jsonData = pm.response.json();",
                            "    pm.expect(jsonData).to.have.property('status');",
                            "    pm.expect(jsonData).to.have.property('message');",
                            "    pm.expect(jsonData).to.have.property('data');",
                            "});",
                            "",
                            "// Test updated data",
                            "pm.test(\"Category was updated correctly\", function () {",
                            "    var jsonData = pm.response.json();",
                            "    pm.expect(jsonData.data.name).to.eql(\"M√≥n Vi·ªát Nam\");",
                            "    pm.expect(jsonData.message).to.eql(\"Category updated successfully\");",
                            "});"
                        ],
                        "type": "text/javascript"
                    }
                }
            ],
            "request": {
                "method": "PUT",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "body": {
                    "mode": "raw",
                    "raw": "{\n    \"name\": \"M√≥n Vi·ªát Nam\",\n    \"description\": \"C√°c m√≥n ƒÉn Vi·ªát Nam truy·ªÅn th·ªëng v√† hi·ªán ƒë·∫°i\",\n    \"is_available\": true\n}"
                },
                "url": {
                    "raw": "{{base_url}}/api/menu/admin/categories/{{created_category_id}}",
                    "host": [
                        "{{base_url}}"
                    ],
                    "path": [
                        "api",
                        "menu",
                        "admin",
                        "categories",
                        "{{created_category_id}}"
                    ]
                },
                "description": "C·∫≠p nh·∫≠t th√¥ng tin category.\n\n**Endpoint:** PUT `/api/menu/admin/categories/:id`\n\n**Body:**\n- `name` (optional): T√™n m·ªõi\n- `description` (optional): M√¥ t·∫£ m·ªõi\n- `is_available` (optional): Tr·∫°ng th√°i m·ªõi\n\n**Note:** Ch·ªâ c·∫ßn g·ª≠i c√°c field mu·ªën c·∫≠p nh·∫≠t\n\n**Response:**\n- Status 200: Category updated successfully\n- Status 400: Validation error\n- Status 404: Category not found\n- Status 500: Internal server error"
            },
            "response": [
                {
                    "name": "Success Response",
                    "originalRequest": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"M√≥n Vi·ªát Nam\",\n    \"description\": \"C√°c m√≥n ƒÉn Vi·ªát Nam truy·ªÅn th·ªëng v√† hi·ªán ƒë·∫°i\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/menu/admin/categories/1",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "menu",
                                "admin",
                                "categories",
                                "1"
                            ]
                        }
                    },
                    "status": "OK",
                    "code": 200,
                    "_postman_previewlanguage": "json",
                    "header": [
                        {
                            "key": "Content-Type",
                            "value": "application/json"
                        }
                    ],
                    "cookie": [],
                    "body": "{\n    \"status\": 200,\n    \"message\": \"Category updated successfully\",\n    \"data\": {\n        \"id\": 1,\n        \"name\": \"M√≥n Vi·ªát Nam\",\n        \"description\": \"C√°c m√≥n ƒÉn Vi·ªát Nam truy·ªÅn th·ªëng v√† hi·ªán ƒë·∫°i\",\n        \"is_available\": true\n    }\n}"
                },
                {
                    "name": "Partial Update",
                    "originalRequest": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"M√≥n Vi·ªát Nam Updated\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/menu/admin/categories/1",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "menu",
                                "admin",
                                "categories",
                                "1"
                            ]
                        }
                    },
                    "status": "OK",
                    "code": 200,
                    "_postman_previewlanguage": "json",
                    "header": [
                        {
                            "key": "Content-Type",
                            "value": "application/json"
                        }
                    ],
                    "cookie": [],
                    "body": "{\n    \"status\": 200,\n    \"message\": \"Category updated successfully\",\n    \"data\": {\n        \"id\": 1,\n        \"name\": \"M√≥n Vi·ªát Nam Updated\",\n        \"description\": \"C√°c m√≥n ƒÉn Vi·ªát Nam truy·ªÅn th·ªëng v√† hi·ªán ƒë·∫°i\",\n        \"is_available\": true\n    }\n}"
                }
            ]
        },
        {
            "name": "5. Soft Delete Category",
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "exec": [
                            "// Test status code",
                            "pm.test(\"Status code is 200\", function () {",
                            "    pm.response.to.have.status(200);",
                            "});",
                            "",
                            "// Test response structure",
                            "pm.test(\"Response has correct structure\", function () {",
                            "    var jsonData = pm.response.json();",
                            "    pm.expect(jsonData).to.have.property('status');",
                            "    pm.expect(jsonData).to.have.property('message');",
                            "    pm.expect(jsonData).to.have.property('data');",
                            "});",
                            "",
                            "// Test deletion message",
                            "pm.test(\"Category was deleted successfully\", function () {",
                            "    var jsonData = pm.response.json();",
                            "    pm.expect(jsonData.message).to.eql(\"Category deleted successfully\");",
                            "});"
                        ],
                        "type": "text/javascript"
                    }
                }
            ],
            "request": {
                "method": "DELETE",
                "header": [],
                "url": {
                    "raw": "{{base_url}}/api/menu/admin/categories/{{created_category_id}}",
                    "host": [
                        "{{base_url}}"
                    ],
                    "path": [
                        "api",
                        "menu",
                        "admin",
                        "categories",
                        "{{created_category_id}}"
                    ]
                },
                "description": "X√≥a m·ªÅm category (soft delete - set is_available = false).\n\n**Endpoint:** DELETE `/api/menu/admin/categories/:id`\n\n**Response:**\n- Status 200: Category deleted successfully\n- Status 404: Category not found\n- Status 500: Internal server error\n\n**Note:** \n- Soft delete kh√¥ng x√≥a kh·ªèi database\n- Ch·ªâ set `is_available = false`\n- C√≥ th·ªÉ kh√¥i ph·ª•c b·∫±ng c√°ch update is_available = true"
            },
            "response": [
                {
                    "name": "Success Response",
                    "originalRequest": {
                        "method": "DELETE",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/menu/admin/categories/5",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "menu",
                                "admin",
                                "categories",
                                "5"
                            ]
                        }
                    },
                    "status": "OK",
                    "code": 200,
                    "_postman_previewlanguage": "json",
                    "header": [
                        {
                            "key": "Content-Type",
                            "value": "application/json"
                        }
                    ],
                    "cookie": [],
                    "body": "{\n    \"status\": 200,\n    \"message\": \"Category deleted successfully\",\n    \"data\": {\n        \"id\": 5\n    }\n}"
                }
            ]
        },
        {
            "name": "6. Hard Delete Category (Permanent)",
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "exec": [
                            "// Test status code",
                            "pm.test(\"Status code is 200\", function () {",
                            "    pm.response.to.have.status(200);",
                            "});",
                            "",
                            "// Test response structure",
                            "pm.test(\"Response has correct structure\", function () {",
                            "    var jsonData = pm.response.json();",
                            "    pm.expect(jsonData).to.have.property('status');",
                            "    pm.expect(jsonData).to.have.property('message');",
                            "    pm.expect(jsonData).to.have.property('data');",
                            "});",
                            "",
                            "// Test deletion message",
                            "pm.test(\"Category was permanently deleted\", function () {",
                            "    var jsonData = pm.response.json();",
                            "    pm.expect(jsonData.message).to.eql(\"Category permanently deleted\");",
                            "});"
                        ],
                        "type": "text/javascript"
                    }
                },
                {
                    "listen": "prerequest",
                    "script": {
                        "exec": [
                            "// Warning before hard delete",
                            "console.warn(\"‚ö†Ô∏è WARNING: This will permanently delete the category from database!\");"
                        ],
                        "type": "text/javascript"
                    }
                }
            ],
            "request": {
                "method": "DELETE",
                "header": [],
                "url": {
                    "raw": "{{base_url}}/api/menu/admin/categories/{{created_category_id}}/permanent",
                    "host": [
                        "{{base_url}}"
                    ],
                    "path": [
                        "api",
                        "menu",
                        "admin",
                        "categories",
                        "{{created_category_id}}",
                        "permanent"
                    ]
                },
                "description": "‚ö†Ô∏è **C·∫®N TH·∫¨N!** X√≥a vƒ©nh vi·ªÖn category kh·ªèi database (hard delete).\n\n**Endpoint:** DELETE `/api/menu/admin/categories/:id/permanent`\n\n**Response:**\n- Status 200: Category permanently deleted\n- Status 404: Category not found\n- Status 500: Internal server error\n\n**Warning:**\n- X√≥a vƒ©nh vi·ªÖn kh·ªèi database\n- X√≥a c·∫£ c√°c quan h·ªá v·ªõi menu items\n- KH√îNG TH·ªÇ kh√¥i ph·ª•c\n- Ch·ªâ s·ª≠ d·ª•ng khi th·ª±c s·ª± c·∫ßn thi·∫øt\n- N√™n y√™u c·∫ßu quy·ªÅn admin cao c·∫•p"
            },
            "response": [
                {
                    "name": "Success Response",
                    "originalRequest": {
                        "method": "DELETE",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/menu/admin/categories/5/permanent",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "menu",
                                "admin",
                                "categories",
                                "5",
                                "permanent"
                            ]
                        }
                    },
                    "status": "OK",
                    "code": 200,
                    "_postman_previewlanguage": "json",
                    "header": [
                        {
                            "key": "Content-Type",
                            "value": "application/json"
                        }
                    ],
                    "cookie": [],
                    "body": "{\n    \"status\": 200,\n    \"message\": \"Category permanently deleted\",\n    \"data\": {\n        \"id\": 5\n    }\n}"
                }
            ]
        },
        {
            "name": "7. Create Category - Validation Error",
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "exec": [
                            "// Test status code",
                            "pm.test(\"Status code is 400\", function () {",
                            "    pm.response.to.have.status(400);",
                            "});",
                            "",
                            "// Test error message",
                            "pm.test(\"Returns validation error message\", function () {",
                            "    var jsonData = pm.response.json();",
                            "    pm.expect(jsonData).to.have.property('message');",
                            "    pm.expect(jsonData.message).to.include('required');",
                            "});"
                        ],
                        "type": "text/javascript"
                    }
                }
            ],
            "request": {
                "method": "POST",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "body": {
                    "mode": "raw",
                    "raw": "{\n    \"description\": \"This category has no name\",\n    \"is_available\": true\n}"
                },
                "url": {
                    "raw": "{{base_url}}/api/menu/admin/categories",
                    "host": [
                        "{{base_url}}"
                    ],
                    "path": [
                        "api",
                        "menu",
                        "admin",
                        "categories"
                    ]
                },
                "description": "Test case: T·∫°o category kh√¥ng c√≥ name field (validation error).\n\n**Expected Response:**\n- Status 400: Bad Request\n- Message: \"Category name is required\""
            },
            "response": [
                {
                    "name": "Validation Error Response",
                    "originalRequest": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"description\": \"This category has no name\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/menu/admin/categories",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "menu",
                                "admin",
                                "categories"
                            ]
                        }
                    },
                    "status": "Bad Request",
                    "code": 400,
                    "_postman_previewlanguage": "json",
                    "header": [
                        {
                            "key": "Content-Type",
                            "value": "application/json"
                        }
                    ],
                    "cookie": [],
                    "body": "{\n    \"status\": 400,\n    \"message\": \"Category name is required\"\n}"
                }
            ]
        },
        {
            "name": "8. Get Category - Not Found Error",
            "event": [
                {
                    "listen": "test",
                    "script": {
                        "exec": [
                            "// Test status code",
                            "pm.test(\"Status code is 404\", function () {",
                            "    pm.response.to.have.status(404);",
                            "});",
                            "",
                            "// Test error message",
                            "pm.test(\"Returns not found error message\", function () {",
                            "    var jsonData = pm.response.json();",
                            "    pm.expect(jsonData).to.have.property('message');",
                            "    pm.expect(jsonData.message).to.eql('Category not found');",
                            "});"
                        ],
                        "type": "text/javascript"
                    }
                }
            ],
            "request": {
                "method": "GET",
                "header": [],
                "url": {
                    "raw": "{{base_url}}/api/menu/admin/categories/99999",
                    "host": [
                        "{{base_url}}"
                    ],
                    "path": [
                        "api",
                        "menu",
                        "admin",
                        "categories",
                        "99999"
                    ]
                },
                "description": "Test case: L·∫•y category v·ªõi ID kh√¥ng t·ªìn t·∫°i (not found error).\n\n**Expected Response:**\n- Status 404: Not Found\n- Message: \"Category not found\""
            },
            "response": [
                {
                    "name": "Not Found Error Response",
                    "originalRequest": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/menu/admin/categories/99999",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "menu",
                                "admin",
                                "categories",
                                "99999"
                            ]
                        }
                    },
                    "status": "Not Found",
                    "code": 404,
                    "_postman_previewlanguage": "json",
                    "header": [
                        {
                            "key": "Content-Type",
                            "value": "application/json"
                        }
                    ],
                    "cookie": [],
                    "body": "{\n    \"status\": 404,\n    \"message\": \"Category not found\"\n}"
                }
            ]
        },
        {
            "name": "Excel Operations",
            "item": [
                {
                    "name": "9. Export Categories to Excel",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "// Test status code",
                                    "pm.test(\"Status code is 200\", function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "// Test content type",
                                    "pm.test(\"Content-Type is Excel file\", function () {",
                                    "    pm.expect(pm.response.headers.get('Content-Type')).to.include('spreadsheetml');",
                                    "});",
                                    "",
                                    "// Test content disposition",
                                    "pm.test(\"Has Content-Disposition header\", function () {",
                                    "    var contentDisposition = pm.response.headers.get('Content-Disposition');",
                                    "    pm.expect(contentDisposition).to.exist;",
                                    "    pm.expect(contentDisposition).to.include('attachment');",
                                    "    pm.expect(contentDisposition).to.include('.xlsx');",
                                    "});",
                                    "",
                                    "// Test response is not empty",
                                    "pm.test(\"Response body is not empty\", function () {",
                                    "    pm.expect(pm.response.size()).to.be.above(0);",
                                    "});",
                                    "",
                                    "console.log(\"‚úÖ Excel file exported successfully\");"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/menu/admin/categories/export/excel",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "menu",
                                "admin",
                                "categories",
                                "export",
                                "excel"
                            ]
                        },
                        "description": "Xu·∫•t danh s√°ch categories ra file Excel v·ªõi ƒë·ªãnh d·∫°ng ƒë·∫πp.\n\n**Endpoint:** GET `/api/menu/admin/categories/export/excel`\n\n**Features:**\n- Xu·∫•t t·∫•t c·∫£ categories (bao g·ªìm c·∫£ soft-deleted)\n- File Excel c√≥ ƒë·ªãnh d·∫°ng ƒë·∫πp: m√†u s·∫Øc, border, alignment\n- Header c√≥ m√†u xanh d∆∞∆°ng ƒë·∫≠m\n- Auto-fit column width\n- T√™n file t·ª± ƒë·ªông: `categories_YYYYMMDD_HHmmss.xlsx`\n\n**Response:**\n- Content-Type: `application/vnd.openxmlformats-officedocument.spreadsheetml.sheet`\n- Content-Disposition: `attachment; filename=\"categories_*.xlsx\"`\n- Binary Excel file\n\n**Columns:**\n1. ID\n2. Category Name\n3. Description\n4. Available Status\n5. Created At\n6. Updated At"
                    },
                    "response": []
                },
                {
                    "name": "10. Download Excel Template",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "// Test status code",
                                    "pm.test(\"Status code is 200\", function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "// Test content type",
                                    "pm.test(\"Content-Type is Excel file\", function () {",
                                    "    pm.expect(pm.response.headers.get('Content-Type')).to.include('spreadsheetml');",
                                    "});",
                                    "",
                                    "// Test filename",
                                    "pm.test(\"Filename is template\", function () {",
                                    "    var contentDisposition = pm.response.headers.get('Content-Disposition');",
                                    "    pm.expect(contentDisposition).to.include('category_import_template.xlsx');",
                                    "});",
                                    "",
                                    "console.log(\"‚úÖ Template downloaded successfully\");"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/menu/admin/categories/template/excel",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "menu",
                                "admin",
                                "categories",
                                "template",
                                "excel"
                            ]
                        },
                        "description": "T·∫£i xu·ªëng template Excel ƒë·ªÉ import categories.\n\n**Endpoint:** GET `/api/menu/admin/categories/template/excel`\n\n**Features:**\n- Template c√≥ s·∫µn format chu·∫©n\n- Bao g·ªìm 2 d√≤ng d·ªØ li·ªáu m·∫´u\n- Header c√≥ h∆∞·ªõng d·∫´n chi ti·∫øt\n- ƒê·ªãnh d·∫°ng ƒë·∫πp, d·ªÖ s·ª≠ d·ª•ng\n\n**Response:**\n- File name: `category_import_template.xlsx`\n- Content-Type: Excel file\n\n**Template Structure:**\n- **Row 1**: Header (m√†u xanh d∆∞∆°ng)\n- **Row 2-3**: D·ªØ li·ªáu m·∫´u\n\n**Columns:**\n1. **name** (required): T√™n category\n2. **description** (optional): M√¥ t·∫£\n3. **is_available** (optional): `true` ho·∫∑c `false` (default: true)\n\n**H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng:**\n1. T·∫£i template n√†y\n2. ƒêi·ªÅn d·ªØ li·ªáu t·ª´ row 2 tr·ªü ƒëi\n3. X√≥a 2 d√≤ng m·∫´u n·∫øu kh√¥ng c·∫ßn\n4. Upload l·∫°i qua API Import"
                    },
                    "response": []
                },
                {
                    "name": "11. Import Categories from Excel (Strict Mode)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "// Test status code (201 for success)",
                                    "pm.test(\"Status code is 201\", function () {",
                                    "    pm.response.to.have.status(201);",
                                    "});",
                                    "",
                                    "// Test response structure",
                                    "pm.test(\"Response has correct structure\", function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData).to.have.property('status');",
                                    "    pm.expect(jsonData).to.have.property('message');",
                                    "    pm.expect(jsonData).to.have.property('data');",
                                    "});",
                                    "",
                                    "// Test import results",
                                    "pm.test(\"Has import statistics\", function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.data).to.have.property('total');",
                                    "    pm.expect(jsonData.data).to.have.property('success');",
                                    "    pm.expect(jsonData.data).to.have.property('failed');",
                                    "});",
                                    "",
                                    "// Log results",
                                    "var result = pm.response.json();",
                                    "console.log(\"üìä Import Results:\");",
                                    "console.log(`  Total: ${result.data.total}`);",
                                    "console.log(`  Success: ${result.data.success}`);",
                                    "console.log(`  Failed: ${result.data.failed}`);"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "formdata",
                            "formdata": [
                                {
                                    "key": "file",
                                    "type": "file",
                                    "src": []
                                }
                            ]
                        },
                        "url": {
                            "raw": "{{base_url}}/api/menu/admin/categories/import/excel",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "menu",
                                "admin",
                                "categories",
                                "import",
                                "excel"
                            ]
                        },
                        "description": "Import categories t·ª´ file Excel (Strict Mode - b√°o l·ªói n·∫øu tr√πng t√™n).\n\n**Endpoint:** POST `/api/menu/admin/categories/import/excel`\n\n**Content-Type:** `multipart/form-data`\n\n**Body:**\n- `file` (required): Excel file (.xlsx ho·∫∑c .xls)\n\n**Import Mode:** Strict (default)\n- B√°o l·ªói n·∫øu category name ƒë√£ t·ªìn t·∫°i\n- Rollback to√†n b·ªô n·∫øu c√≥ l·ªói\n- ƒê·∫£m b·∫£o data integrity\n\n**Validation:**\n- File size: Max 5MB\n- File type: Only .xlsx, .xls\n- Required field: `name`\n- Format: ExcelJS readable\n\n**Response Success (201):**\n```json\n{\n  \"status\": 201,\n  \"message\": \"Import completed successfully\",\n  \"data\": {\n    \"total\": 10,\n    \"success\": 10,\n    \"failed\": 0,\n    \"errors\": []\n  }\n}\n```\n\n**Response Error (400):**\n```json\n{\n  \"status\": 400,\n  \"message\": \"Import failed: Duplicate category names found\",\n  \"data\": {\n    \"total\": 10,\n    \"success\": 0,\n    \"failed\": 2,\n    \"errors\": [\n      \"Row 3: Category 'M√≥n Vi·ªát' already exists\",\n      \"Row 5: Category name is required\"\n    ]\n  }\n}\n```\n\n**H∆∞·ªõng d·∫´n:**\n1. T·∫£i template t·ª´ API \"Download Excel Template\"\n2. ƒêi·ªÅn d·ªØ li·ªáu v√†o file\n3. Upload file qua form-data v·ªõi key `file`\n4. Ki·ªÉm tra k·∫øt qu·∫£ import\n\n**Note:** ƒê·ªÉ test API n√†y trong Postman:\n1. Ch·ªçn Body tab\n2. Ch·ªçn form-data\n3. Key: `file`, Type: File\n4. Ch·ªçn file Excel t·ª´ m√°y t√≠nh"
                    },
                    "response": [
                        {
                            "name": "Success Response",
                            "originalRequest": {
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "formdata",
                                    "formdata": [
                                        {
                                            "key": "file",
                                            "type": "file",
                                            "src": []
                                        }
                                    ]
                                },
                                "url": {
                                    "raw": "{{base_url}}/api/menu/admin/categories/import/excel",
                                    "host": [
                                        "{{base_url}}"
                                    ],
                                    "path": [
                                        "api",
                                        "menu",
                                        "admin",
                                        "categories",
                                        "import",
                                        "excel"
                                    ]
                                }
                            },
                            "status": "Created",
                            "code": 201,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n    \"status\": 201,\n    \"message\": \"Import completed successfully\",\n    \"data\": {\n        \"total\": 5,\n        \"success\": 5,\n        \"failed\": 0,\n        \"errors\": []\n    }\n}"
                        },
                        {
                            "name": "Error - Duplicate Found",
                            "originalRequest": {
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "formdata",
                                    "formdata": [
                                        {
                                            "key": "file",
                                            "type": "file",
                                            "src": []
                                        }
                                    ]
                                },
                                "url": {
                                    "raw": "{{base_url}}/api/menu/admin/categories/import/excel",
                                    "host": [
                                        "{{base_url}}"
                                    ],
                                    "path": [
                                        "api",
                                        "menu",
                                        "admin",
                                        "categories",
                                        "import",
                                        "excel"
                                    ]
                                }
                            },
                            "status": "Bad Request",
                            "code": 400,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n    \"status\": 400,\n    \"message\": \"Import failed\",\n    \"data\": {\n        \"total\": 5,\n        \"success\": 0,\n        \"failed\": 2,\n        \"errors\": [\n            \"Row 2: Category 'M√≥n Vi·ªát' already exists\",\n            \"Row 4: Category name is required\"\n        ]\n    }\n}"
                        }
                    ]
                },
                {
                    "name": "12. Import Categories (Update Mode)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "// Test status code",
                                    "pm.test(\"Status code is 201\", function () {",
                                    "    pm.response.to.have.status(201);",
                                    "});",
                                    "",
                                    "// Test response",
                                    "pm.test(\"Has import statistics\", function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.data).to.have.property('total');",
                                    "    pm.expect(jsonData.data).to.have.property('updated');",
                                    "});",
                                    "",
                                    "var result = pm.response.json();",
                                    "console.log(\"üìä Update Mode Results:\");",
                                    "console.log(`  Total: ${result.data.total}`);",
                                    "console.log(`  Updated: ${result.data.updated || 0}`);"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "formdata",
                            "formdata": [
                                {
                                    "key": "file",
                                    "type": "file",
                                    "src": []
                                },
                                {
                                    "key": "updateExisting",
                                    "value": "true",
                                    "type": "text"
                                }
                            ]
                        },
                        "url": {
                            "raw": "{{base_url}}/api/menu/admin/categories/import/excel",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "menu",
                                "admin",
                                "categories",
                                "import",
                                "excel"
                            ]
                        },
                        "description": "Import categories v·ªõi ch·∫ø ƒë·ªô Update - t·ª± ƒë·ªông c·∫≠p nh·∫≠t n·∫øu tr√πng t√™n.\n\n**Endpoint:** POST `/api/menu/admin/categories/import/excel`\n\n**Body:**\n- `file` (required): Excel file\n- `updateExisting` (optional): `true` - Enable update mode\n\n**Import Mode:** Update\n- T·ª± ƒë·ªông c·∫≠p nh·∫≠t category n·∫øu t√™n ƒë√£ t·ªìn t·∫°i\n- Insert m·ªõi n·∫øu ch∆∞a t·ªìn t·∫°i\n- Kh√¥ng b√°o l·ªói khi tr√πng t√™n\n\n**Use Case:**\n- ƒê·ªìng b·ªô d·ªØ li·ªáu t·ª´ ngu·ªìn kh√°c\n- C·∫≠p nh·∫≠t h√†ng lo·∫°t categories\n- Import/merge data\n\n**Response:**\n```json\n{\n  \"status\": 201,\n  \"message\": \"Import completed successfully\",\n  \"data\": {\n    \"total\": 10,\n    \"success\": 10,\n    \"failed\": 0,\n    \"created\": 7,\n    \"updated\": 3,\n    \"errors\": []\n  }\n}\n```"
                    },
                    "response": []
                },
                {
                    "name": "13. Import Categories (Skip Mode)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "// Test status code",
                                    "pm.test(\"Status code is 201\", function () {",
                                    "    pm.response.to.have.status(201);",
                                    "});",
                                    "",
                                    "// Test response",
                                    "pm.test(\"Has skip statistics\", function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.data).to.have.property('total');",
                                    "    pm.expect(jsonData.data).to.have.property('skipped');",
                                    "});",
                                    "",
                                    "var result = pm.response.json();",
                                    "console.log(\"üìä Skip Mode Results:\");",
                                    "console.log(`  Total: ${result.data.total}`);",
                                    "console.log(`  Skipped: ${result.data.skipped || 0}`);"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "formdata",
                            "formdata": [
                                {
                                    "key": "file",
                                    "type": "file",
                                    "src": []
                                },
                                {
                                    "key": "skipDuplicate",
                                    "value": "true",
                                    "type": "text"
                                }
                            ]
                        },
                        "url": {
                            "raw": "{{base_url}}/api/menu/admin/categories/import/excel",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "menu",
                                "admin",
                                "categories",
                                "import",
                                "excel"
                            ]
                        },
                        "description": "Import categories v·ªõi ch·∫ø ƒë·ªô Skip - b·ªè qua n·∫øu tr√πng t√™n.\n\n**Endpoint:** POST `/api/menu/admin/categories/import/excel`\n\n**Body:**\n- `file` (required): Excel file\n- `skipDuplicate` (optional): `true` - Enable skip mode\n\n**Import Mode:** Skip\n- B·ªè qua (skip) category n·∫øu t√™n ƒë√£ t·ªìn t·∫°i\n- Ch·ªâ insert nh·ªØng category m·ªõi\n- Kh√¥ng c·∫≠p nh·∫≠t, kh√¥ng b√°o l·ªói\n\n**Use Case:**\n- Import d·ªØ li·ªáu m·ªõi m√† kh√¥ng mu·ªën ·∫£nh h∆∞·ªüng ƒë·∫øn d·ªØ li·ªáu c≈©\n- Th√™m categories m√† kh√¥ng lo ghi ƒë√®\n- Safe import mode\n\n**Response:**\n```json\n{\n  \"status\": 201,\n  \"message\": \"Import completed successfully\",\n  \"data\": {\n    \"total\": 10,\n    \"success\": 7,\n    \"failed\": 0,\n    \"created\": 7,\n    \"skipped\": 3,\n    \"errors\": []\n  }\n}\n```\n\n**Note:** S·ªë `skipped` cho bi·∫øt c√≥ bao nhi√™u category b·ªã b·ªè qua v√¨ t√™n ƒë√£ t·ªìn t·∫°i."
                    },
                    "response": []
                }
            ],
            "description": "**üìä Excel Operations**\n\nNh√≥m c√°c API li√™n quan ƒë·∫øn Excel import/export cho Category management.\n\n**Features:**\n- ‚úÖ Export danh s√°ch categories ra Excel v·ªõi format ƒë·∫πp\n- ‚úÖ Download template Excel ƒë·ªÉ import\n- ‚úÖ Import categories t·ª´ Excel v·ªõi 3 modes:\n  - **Strict Mode**: B√°o l·ªói n·∫øu tr√πng (default)\n  - **Update Mode**: T·ª± ƒë·ªông update n·∫øu tr√πng\n  - **Skip Mode**: B·ªè qua n·∫øu tr√πng\n\n**File Validation:**\n- Max size: 5MB\n- Allowed types: .xlsx, .xls\n- Format: ExcelJS compatible\n\n**Transaction Support:**\n- Rollback n·∫øu c√≥ l·ªói (Strict mode)\n- Atomic operations\n- Data integrity guaranteed"
        }
    ],
    "event": [
        {
            "listen": "prerequest",
            "script": {
                "type": "text/javascript",
                "exec": [
                    "// Global pre-request script",
                    "console.log('Running request to: ' + pm.request.url);",
                    "console.log('Method: ' + pm.request.method);"
                ]
            }
        },
        {
            "listen": "test",
            "script": {
                "type": "text/javascript",
                "exec": [
                    "// Global test script",
                    "pm.test(\"Response time is acceptable\", function () {",
                    "    pm.expect(pm.response.responseTime).to.be.below(2000);",
                    "});",
                    "",
                    "pm.test(\"Content-Type is application/json\", function () {",
                    "    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
                    "});"
                ]
            }
        }
    ],
    "variable": [
        {
            "key": "base_url",
            "value": "http://localhost:5000",
            "type": "string"
        },
        {
            "key": "created_category_id",
            "value": "",
            "type": "string"
        },
        {
            "key": "first_category_id",
            "value": "",
            "type": "string"
        }
    ]
}